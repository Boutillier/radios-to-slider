!function(a){function b(a,b){this.KNOB_WIDTH=32,this.KNOB_MARGIN=28,this.LEVEL_MARGIN=this.KNOB_MARGIN+10,this.LABEL_WIDTH=44,this.LEVEL_WIDTH=22,this.bearer=a,this.options=b,this.currentLevel=0}b.prototype={activate:function(){this.numOptions=this.bearer.find("input[type=radio]").length,this.fitContainer(),this.addBaseStyle(),this.addLevels(),this.addBar(),this.setSlider(),this.addInteraction();var b=this;a(window).on("resize orientationChanged",function(){b.reset(),b.fitContainer(),b.addBaseStyle(),b.addLevels(),b.setSlider(),b.addInteraction()})},reset:function(){this.bearer.find("label").each(function(){a(this).removeClass("slider-label"),a(this).css("left",0)}),this.bearer.find(".slider-level").each(function(){a(this).remove()}),this.bearer.css("width","auto")},fitContainer:function(){this.options.fitContainer&&(this.KNOB_MARGIN=(this.bearer.width()-this.KNOB_WIDTH)/(this.numOptions-1)-this.KNOB_WIDTH,this.LEVEL_MARGIN=this.KNOB_MARGIN+10)},addBaseStyle:function(){this.bearer.find("input[type=radio]").hide(),this.bearer.addClass("radios-to-slider"),this.bearer.addClass(this.options.size),this.bearer.css("width",this.numOptions*this.LEVEL_WIDTH+(this.numOptions-1)*this.LEVEL_MARGIN+"px");var b=0,c=this;this.bearer.find("label").each(function(){var d=c.KNOB_WIDTH/2-c.LABEL_WIDTH/2+b*c.LEVEL_MARGIN+b*c.LEVEL_WIDTH;a(this).addClass("slider-label"),a(this).css("left",d+"px"),b++})},addLevels:function(){var b=this.bearer,c=this;this.bearer.find("input[type=radio]").each(function(){var c=a(this).attr("id");b.append("<ins class='slider-level' data-radio='"+c+"'></ins>")});var d=0;this.bearer.find(".slider-level").each(function(){var e=parseInt(b.css("padding-left").replace("px",""));a(this).css("left",e+d*c.LEVEL_MARGIN+d*c.LEVEL_WIDTH+"px"),d++})},addBar:function(){this.bearer.append("<ins class='slider-bar'><span class='slider-knob'></span></ins>")},setSlider:function(){var d,b=1,c=this;this.bearer.find("input[type=radio]").each(function(){a(this).attr("id");a(this).prop("checked")&&(c.bearer.find(".slider-bar").css("display","block"),c.bearer.find(".slider-bar").width(b*c.KNOB_WIDTH+(b-1)*c.KNOB_MARGIN+"px"),c.currentLevel=b),c.options.animation&&c.bearer.find(".slider-bar").addClass("transition-enabled"),b++}),d=0,this.bearer.find(".slider-level").each(function(){d++,d<c.currentLevel?(a(this).show(),a(this).addClass("slider-lower-level")):d==c.currentLevel?a(this).hide():(a(this).show(),a(this).removeClass("slider-lower-level"))}),d=0,this.bearer.find(".slider-label").each(function(){d++,d==c.currentLevel?a(this).addClass("slider-label-active"):a(this).removeClass("slider-label-active")})},addInteraction:function(){var b=this;this.bearer.find(".slider-level").click(function(){var c=a(this).attr("data-radio"),d=b.bearer.find("#"+c);d.prop("checked",!0),b.options.onSelect&&b.options.onSelect(d),b.setSlider()}),this.bearer.find("input[type=radio]").change(function(){b.setSlider()})}},a.fn.radiosToSlider=function(c){this.each(function(){c=a.extend({},a.fn.radiosToSlider.defaults,c);var d=new b(a(this),c);d.activate()})},a.fn.radiosToSlider.defaults={size:"medium",animation:!0,fitContainer:!0,onSelect:null}}(jQuery);